# release 4.0.0 implementation plan

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** cut a 4.0.0 release with updated docs and release notes.

**Architecture:** bump versions in extension + manifest, update docs to describe new segment modes and metadata handling, publish new gh release.

**Tech Stack:** node, react, fastapi, gh cli

### Task 1: update version numbers

**Files:**
- Modify: `tuneport-extension/package.json:3`
- Modify: `tuneport-extension/src/manifest.json:5`
- Modify: `package.json:3`

**Step 1: write failing test**

not needed. version bump only.

**Step 2: update versions**

set version to `4.0.0` in all three files.

**Step 3: commit**

```bash
git add tuneport-extension/package.json tuneport-extension/src/manifest.json package.json
git commit -m "chore: bump version to 4.0.0"
```

### Task 2: update docs

**Files:**
- Modify: `README.md:30`
- Modify: `yt-dlp-service/README.md:54`

**Step 1: write failing test**

not needed. docs only.

**Step 2: update docs**

- mention single vs multiple segment manual modes
- mention metadata passthrough and merged segments in yt-dlp-service

**Step 3: commit**

```bash
git add README.md yt-dlp-service/README.md
git commit -m "docs: update segment modes and metadata"
```

### Task 3: update changeset

**Files:**
- Create: `.changeset/0000-task.md`

**Step 1: write failing test**

not needed. changeset only.

**Step 2: add changeset**

```md
---
"tuneport-extension": major
---

segment downloads: single or multiple, fixed metadata
```

**Step 3: commit**

```bash
git add .changeset/0000-task.md
git commit -m "chore: add changeset for 4.0.0"
```

### Task 4: release

**Files:**
- none

**Step 1: run tests**

```bash
npm test -- SegmentParser.test.ts
npm test -- DownloadService.test.ts
python -m unittest test_ytdlp_args.py
```

**Step 2: publish release**

```bash
git push origin main
gh release delete v3.0.9 --yes
gh release create v4.0.0 --title "v4.0.0" --notes "segment downloads: single or multiple. fixed yt-dlp metadata + covers."
```
